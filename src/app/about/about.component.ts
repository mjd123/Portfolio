import { BlobService } from './../blob.service';
import {
    Component,
    OnInit,
    NgZone,
    ElementRef,
    ViewChild,
    ViewChildren,
    QueryList,
} from '@angular/core';
import { CanvasBlob } from '../animations/blob-canvas-animation';

@Component({
    selector: 'app-about',
    templateUrl: './about.component.html',
    styleUrls: ['./about.component.scss'],
})
export class AboutComponent implements OnInit {
    @ViewChildren('canvas') canvas: QueryList<any>;

    constructor(
        private BlobService: BlobService,
        private ngZone: NgZone,
        private CanvasBlob: CanvasBlob
    ) {}

    ngOnInit() {
        // this.BlobService.blobAnimation(
        //     '#path-one',
        //     'M177.2,-139.3C207,-104.1,192.7,-31.7,176.2,40.1C159.7,111.8,141,183,90.6,219.3C40.1,255.6,-42.2,257.1,-85,219.8C-127.9,182.6,-131.2,106.7,-142,38.4C-152.8,-29.8,-171,-90.4,-148.6,-124C-126.1,-157.6,-63.1,-164.3,5.3,-168.6C73.8,-172.8,147.5,-174.6,177.2,-139.3Z',
        //     'M176.4,-142.5C212.7,-95.3,215,-22.8,201.2,49.1C187.3,121.1,157.2,192.5,109.1,209C60.9,225.5,-5.399999999999999,187.1,-66.3,152.2C-127.3,117.3,-183.1,85.9,-192.3,44.3C-201.5,2.7,-164.1,-49.2,-124.2,-97.3C-84.4,-145.3,-42.2,-189.7,13.9,-200.8C70.1,-211.9,140.2,-189.8,176.4,-142.5Z',
        //     'M172.8,-124.3C218.9,-79.9,247.9,-8.4,236.5,58.9C225.1,126.2,173.3,189.2,112.6,208.9C51.9,228.5,-17.6,204.8,-86.5,173.9C-155.3,142.9,-223.4,104.7,-243.3,47.1C-263.1,-10.5,-234.8,-87.6,-186.2,-132.5C-137.6,-177.4,-68.8,-190.2,-2.700000000000001,-188C63.3,-185.8,126.7,-168.7,172.8,-124.3Z',
        //     'M155.4,-116.8C194.6,-74.8,214.8,-10.6,198.6,39.3C182.4,89.2,129.8,124.8,73.1,152.3C16.300000000000004,179.9,-44.5,199.4,-82.3,178.4C-120,157.3,-134.6,95.7,-144.4,37.4C-154.2,-20.9,-159.2,-75.9,-134.3,-114.6C-109.5,-153.3,-54.7,-175.6,1.7000000000000002,-177C58.1,-178.3,116.2,-158.7,155.4,-116.8Z',
        //     6000
        // );
        // this.BlobService.blobAnimation(
        //     '#path-two',
        //     'M92.3,-92.1C112.1,-48.7,115.5,-10.8,112.9,35.8C110.2,82.4,101.5,137.6,67.5,162.6C33.4,187.7,-26,182.6,-83.4,160C-140.8,137.5,-196.2,97.4,-199.8,53.6C-203.4,9.8,-155.3,-37.8,-113.3,-86.2C-71.4,-134.6,-35.7,-183.8,0.3,-184C36.2,-184.2,72.4,-135.4,92.3,-92.1Z',
        //     'M158.5,-106.8C202.4,-71.4,232.8,-5.7,219.6,49.3C206.4,104.3,149.6,148.6,95.1,160.8C40.5,173,-11.899999999999999,153.2,-70.9,131C-129.9,108.8,-195.6,84.2,-215.4,37.7C-235.2,-8.9,-209.1,-77.4,-165.5,-112.7C-122,-147.9,-61,-150,-1.8000000000000007,-148.5C57.3,-147.1,114.7,-142.1,158.5,-106.8Z',
        //     'M95.3,-85.4C126.1,-37.5,155.2,2.299999999999997,151.8,41.7C148.4,81.2,112.6,120.3,60.9,156.9C9.3,193.4,-58.3,227.3,-101.5,207.7C-144.7,188.1,-163.5,114.8,-159.2,58C-154.9,1.0999999999999996,-127.5,-39.3,-97.1,-87.1C-66.7,-134.9,-33.4,-189.9,-0.5,-189.5C32.3,-189.1,64.6,-133.2,95.3,-85.4Z',
        //     'M115.1,-93.9C144.2,-55.3,159.3,-7.7,159.2,53.9C159.2,115.4,143.8,191.1,104.1,206.4C64.5,221.6,0.6000000000000014,176.6,-64.5,142.1C-129.6,107.6,-196,83.8,-220.2,34.1C-244.4,-15.6,-226.6,-91,-182.9,-133C-139.2,-175,-69.6,-183.5,-13.3,-172.9C43,-162.3,86,-132.6,115.1,-93.9Z',
        //     5000
        // );
    }

    ngAfterViewInit() {
        console.log('in here', this.canvas);

        let blobOne = new CanvasBlob();
        let blobTwo = new CanvasBlob();

        this.ngZone.runOutsideAngular(() =>
            blobOne.createBlob(
                this.canvas.first.nativeElement,
                'rgba(245,111,79,1)',
                'blob-one',
                136,
                180,
                180
            )
        );
        this.ngZone.runOutsideAngular(() =>
            blobTwo.createBlob(
                this.canvas.last.nativeElement,
                'rgba(245,111,79,0.9)',
                'blob-one',
                136,
                180,
                180
            )
        );
    }
}
